{% extends "base.html" %}

{% block title %}Resources | HabitHatch{% endblock %}

{% block content %}
  <h2 style="text-align:center; margin-bottom:1rem;">Resources</h2>
<div class="resource-box" id="recommended">
  <h3>Recommended</h3>
  <p id="recText">Our newest curated resource to help with habit building and focus.</p>
  <button class="rec-btn" id="recBtn">Add Info</button>
</div>
  <div class="resources-container">

    <!-- ==== TABLE OF CONTENTS ==== -->
    <div id="toc" class="toc-card">
      <h3>Table of Contents</h3>
      <div class="toc-grid">
        <a href="#source1">Tiktok</a>
        <a href="#source2">YouTube</a>
        <a href="#source3">Instagram</a>
        <a href="#source4">Facebook</a>
        <a href="#source5">General Media</a>
        <a href="#source6">Phone Addiction</a>
        <a href="#source7">Streaming Addiction</a>
        <a href="#source8">Video Games</a>
        <a href="#source9">Shopping</a>
        <a href="#source10">Gambling</a>
        <a href="#source11">Food Addiction</a>
        <a href="#source12">Caffeine Addiction</a>
        <a href="#source13">Nicotine Addiction</a>
        <a href="#source14">Alcohol Addiction</a>
        <a href="#source15">Dopamine Addiction</a>
        <a href="#source16">Drug Addiction</a>
      </div>
    </div>

    <!-- ==== RESOURCE SECTIONS ==== -->
    <div id="source1" class="resource-box"><h3>Tiktok Help</h3>
      <p><b>‚ÄúHow to Stop Scrolling on TikTok and Reclaim Your Time‚Äù by Kai Cox</b><br><br>
        This article explains why TikTok‚Äôs design fuels addictive scrolling and offers simple ways to regain control
        like setting limits, adding friction, and replacing screen time with more rewarding real-life activities.</p>
      <p><a href="https://endscreenaddiction.com/blog/how-to-stop-scrolling-on-tiktok-and-reclaim-your-time/">
        <b>endscreenaddiction.com</b></a></p><a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source2" class="resource-box"><h3>YouTube Help</h3>
      <p><b>‚ÄúWhat Is YouTube Addiction?‚Äù by Kendra Cherry</b><br><br>
        This article explains how excessive YouTube use can become a behavioral addiction that disrupts daily life.
        It covers signs, causes, and impacts of overuse, noting that while not officially recognized as a disorder,
        it shares traits with other compulsive behaviors. Cherry also offers strategies for managing screen habits,
        like setting limits, disabling autoplay, and seeking professional help if needed.</p>
      <p><a href="https://www.verywellmind.com/youtube-addiction-signs-causes-effects-and-treatment-5222236">
        <b>verywellmind.com</b></a></p><a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source3" class="resource-box"><h3>Instagram Help</h3>
      <p><b>‚ÄúHow to Disable Reels on Instagram: Easy Methods That Work‚Äù by Tanish Bhadwal</b><br><br>
        This guide explains practical ways to reduce or avoid Instagram Reels, even though the app doesn‚Äôt offer an
        official disable option. It suggests methods like marking Reels as ‚ÄúNot Interested,‚Äù using the browser version,
        muting Reel-heavy accounts, or installing older app versions to create a calmer, photo-focused experience.</p>
      <p><a href="https://www.asclique.com/blog/how-to-disable-reels-on-instagram/"><b>asclique.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source4" class="resource-box"><h3>Facebook Help</h3>
      <p><b>‚ÄúHow to Quit Reels Forever‚Äù by WallHabit</b><br><br>
        This article explains how to stop watching short-form videos like Facebook Reels for good. It offers practical
        tips such as setting boundaries, turning off autoplay, tracking screen time, and using the WallHabit app to
        block or limit distractions. The focus is on building mindfulness, replacing scrolling with meaningful
        activities, and regaining control over your time and attention.</p>
      <p><a href="https://wallhabit.com/blog/how-to-quit-reels-forever/"><b>wallhabit.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source5" class="resource-box"><h3>General Short Form Media Help</h3>
      <p><b>‚ÄúEscaping Short-Form Addiction‚Äù by Dr. Shin</b><br><br>
        This article discusses the growing problem of short-form video addiction on platforms like TikTok, YouTube
        Shorts, and Instagram Reels. Dr. Shin emphasizes moderation over total avoidance and offers strategies such as
        setting time limits, avoiding videos before bed, and choosing longer, more meaningful content to prevent
        dopamine-driven overuse and protect focus and well-being.</p>
      <p><a href="https://shinseungkeon.com/en/escaping-short-form-addiction/"><b>shinseungkeon.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source6" class="resource-box"><h3>Phone Addiction Help</h3>
      <p><b>"What Are the Signs of Phone Addiction?" by Angelica Bottaro</b><br><br>
        This article highlights the growing problem of phone addiction fueled by constant notifications and
        dopamine-driven habits, especially in teens and young adults. Experts warn that overuse can harm mental health,
        sleep, and daily functioning, and recommend cutting back by removing time-wasting apps, limiting notifications,
        and building healthier phone habits.</p>
      <p><a href="https://www.verywellhealth.com/phone-addiction-5218743"><b>verywellhealth.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source7" class="resource-box"><h3>Streaming Addiction Help</h3>
      <p><b>‚ÄúRecovering from Streaming Addiction‚Äù by (ITAA)</b><br><br>
        This article explains how compulsive streaming‚Äîwhether TV, YouTube, Netflix, Twitch, or podcasts‚Äîcan become an
        addiction that harms focus, mood, relationships, and daily functioning. ITAA describes how dopamine-driven
        binge-watching can lead to anxiety, isolation, and life disruptions, and emphasizes recovery through
        Twelve-Step support meetings, abstaining from addictive behaviors, building real-life connections, and creating
        intentional, healthy digital habits.</p>
      <p><a href="https://internetaddictsanonymous.org/internet-and-technology-addiction/streaming-addiction/">
        <b>internetaddictsanonymous.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source8" class="resource-box"><h3>Video Game Addiction Help</h3>
      <p><b>‚ÄúGaming Addicts Anonymous‚Äù by (GAA)</b><br><br>
        This article describes how Gaming Addicts Anonymous provides a supportive, non-judgmental community for people
        struggling with compulsive gaming. GAA emphasizes abstinence, peer support, and personal honesty‚Äînot labels or
        strict rules‚Äîand encourages members to recover through shared experiences, Twelve-Step principles, and optional
        outside support. The group is fully member-run, free to join, and open to anyone who wants freedom from the
        negative effects of excessive gaming.</p>
      <p><a href="https://www.gamingaddictsanonymous.org/"><b>gamingaddictsanonymous.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source9" class="resource-box"><h3>Shopping Addiction Help</h3>
      <p><b>‚ÄúWhat Is a Shopping Addiction?‚Äù by Elizabeth Hartney, PhD</b><br><br>
        This article explains how shopping addiction works as a behavioral addiction where people use buying to escape
        negative emotions, creating a cycle of compulsive spending, guilt, and financial stress. Hartney describes
        common signs‚Äîlike hiding purchases, impulse buying, and chasing a temporary emotional ‚Äúhigh‚Äù‚Äîand shows how low
        self-esteem, materialism, and advertising all make the addiction worse. The article encourages coping
        strategies such as limiting credit access, recognizing emotional triggers, and finding healthier ways to
        manage stress.</p>
      <p><a href="https://www.verywellmind.com/shopping-addiction-4157288"><b>verywellmind.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source10" class="resource-box"><h3>Gambling Addiction Help</h3>
      <p><b>‚ÄúHelp for Problem Gambling‚Äù by the National Council on Problem Gambling</b><br><br>
        This article explains how the National Problem Gambling Helpline (1-800-522-4700) offers 24/7 confidential
        support for anyone struggling with gambling addiction, connecting callers to treatment, counseling, financial
        guidance, and local recovery resources. It emphasizes that trained specialists‚Äînot emergency responders‚Äîanswer
        every call, and that loved ones can also reach out for help, with services available in over 240 languages to
        ensure accessible, judgment-free support.</p>
      <p><a href="https://www.ncpgambling.org/help-treatment/about-the-national-problem-gambling-helpline/">
        <b>ncpgambling.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source11" class="resource-box"><h3>Food Addiction Help</h3>
      <p><b>‚ÄúFind a Therapist for Eating Disorders‚Äù by Rula Health</b><br><br>
        This article explains how Rula connects people with licensed, in-network therapists and psychiatric providers
        who specialize in treating eating disorders. It highlights an easy, personalized process‚Äîmatching users to
        experts based on their preferences and insurance, scheduling online sessions quickly, and offering
        evidence-based treatments like CBT-E, DBT, FBT, and ACT. The article emphasizes how therapy can replace harmful
        eating patterns, address underlying mental health issues, and support long-term recovery with accessible,
        affordable care.</p>
      <p><a href="https://www.rula.com/eating-disorder-therapy/?utm_source=bing&utm_medium=paidsearch&utm_campaign=
      patient_psp_nb_522602145&utm_content=1315018440842290&utm_term=therapy%20for%20eating%20disorder&msclkid=5cec6
      4a9097f1039c58d0db4d714edd5"><b>rula.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source12" class="resource-box"><h3>Caffeine Addiction Help</h3>
      <p><b>‚ÄúAbout CAFAA‚Äù by Caffeine Addicts Anonymous</b><br><br>
        This article introduces Caffeine Addicts Anonymous, a peer-support fellowship that helps people recover from
        compulsive caffeine use through shared experience, daily meetings, and a desire to stop consuming caffeine.
        CAFAA offers accessible Zoom and phone meetings worldwide, emphasizing community, anonymity, and mutual
        support‚Äîproviding practical ways for members to connect, share their stories, and find freedom from caffeine
        addiction.</p>
      <p><a href="https://caffeineaddictsanonymous.org/"><b>caffeineaddictsanonymous.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source13" class="resource-box"><h3>Nicotine Addiction Help</h3>
      <p><b>‚ÄúWelcome to Nicotine Anonymous‚Äù by Nicotine Anonymous</b><br><br>
        This article invites individuals seeking nicotine freedom into a supportive fellowship built on shared
        experience, daily encouragement, and community connection. It highlights tools like daily recovery emails,
        the ‚ÄúSeven Minutes‚Äù stories of hope, a full library of recovery literature, and a wide range of
        meetings‚Äîonline, phone, and in-person‚Äîto help people break free from nicotine one day at a time.</p>
      <p><a href="https://nicotine-anonymous.org/"><b>nicotine-anonymous.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source14" class="resource-box"><h3>Alcohol Addiction Help</h3>
      <p><b>‚ÄúWorld-Class Addiction Treatment‚Äù by Sunshine Behavioral Health</b><br><br>
        This article highlights Sunshine Behavioral Health‚Äôs nationwide, top-rated inpatient rehab programs,
        emphasizing high-quality care, private rooms, 24/7 monitored detox, dual-diagnosis treatment, and luxurious
        environments designed to support recovery. It showcases facilities across California, Colorado, Texas, Illinois,
        and Wisconsin‚Äîeach offering unique settings like ocean views, mountain landscapes, or peaceful rural
        retreats‚Äîwhile featuring patient testimonials and encouraging individuals to verify insurance and choose the
        location that best fits their recovery needs.</p>
      <p><a href="https://sunshinebehavioralhealth.com/campaigns/pages/v2/dynamic/sbh-rehab/addiction/?_utm_title=Top%
      20Rated%20Inpatient%20Alcohol%20Rehabs%20Located%20Across%20The%20Country&_bk=%7Bkeyword%7D&_bt=&_bk=alcohol%20r
      ehabs&_bm=e&_bn=o&_bg=1337008546496262&sf_rtsource=Bing%20PPC&utm_campaign=sbh_bing_nationwide&sf_campaign=sbh_b
      ing_nationwide&sf_rtsource=SS%20PPC%20Bing&_bk=alcohol%20rehabs&msclkid=b7891ab5a3031598323873a8411af561&utm_sou
      rce=bing&utm_medium=cpc&utm_term=alcohol%20rehabs&utm_content=Bing%20US%20%20-%20Alcohol">
        <b>sunshinebehavioralhealth.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source15" class="resource-box"><h3>Dopamine Addiction Help</h3>
      <p><b>‚ÄúHow To Overcome Dopamine Addiction‚Äù by BetterHelp Editorial Team</b><br><br>
        This article explains how dopamine drives addictive behaviors‚Äîfrom social media and comfort foods to drugs and
        gambling‚Äîby creating powerful reward loops and long-term changes in the brain. It outlines how excessive
        dopamine spikes can lead to tolerance, deficiency, and emotional struggles, and offers evidence-based
        strategies like taking a 30-day break, identifying triggers, building social support, improving lifestyle
        habits, and using therapies such as CBT or motivational interviewing. The article emphasizes neuroplasticity,
        showing that with the right tools and support, people can retrain their brains and break harmful
        dopamine-driven patterns.</p>
      <p><a href="https://www.betterhelp.com/advice/medication/dopamine-addiction-what-is-it-and-how-to-overcome-it/">
        <b>betterhelp.com</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
    <div id="source16" class="resource-box"><h3>Drug Addiction Help</h3>
      <p><b>‚ÄúDrug and Alcohol Rehab Center in Omaha, Nebraska‚Äù by Valley Hope of Omaha</b><br><br>
        This article highlights Valley Hope of Omaha‚Äôs top-rated outpatient addiction treatment programs, offering
        evidence-based care‚Äîincluding PHP, IOP, and telehealth‚Äîto help adults recover while staying connected to home,
        work, and family. With decades of experience and a compassionate clinical team, Valley Hope provides
        personalized treatment plans, mental-health‚Äìintegrated support, and ongoing alumni care to guide individuals
        toward long-term sobriety and a fulfilling life beyond addiction.</p>
      <p><a href="https://valleyhope.org/locations/nebraska/omaha-treatment-center/?msclkid=b89dfd1c34b011422fc99401d
      77c36ae&utm_source=bing&utm_medium=cpc&utm_campaign=HS%20%7C%20Nebraska%20%7C%20Omaha%20%7C%20Outpatient%20%7C%
      20Search&utm_term=drug%20treatment%20program&utm_content=Outpatient"><b>valleyhope.org</b></a></p>
      <a href="#toc" class="back-to-top">ü°†</a></div>
  </div>

  <style>
    body {
      background-color: #f8fafc;
      margin: 0;
      padding: 0;
    }

    .rec-btn {
    transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .rec-btn:hover {
    transform: translateY(-2px);
    }

    .resources-container {
      max-width: 900px;
      margin: 2rem auto;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    /* ==== TOC CARD ==== */
    .toc-card {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 1.5rem;
      text-align: center;
    }

    .toc-card h3 {
      color: #2563EB;
      margin-bottom: 1rem;
    }

    .toc-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      justify-items: center;
    }

    .toc-grid a {
      background-color: #2563eb;
      color: white;
      text-decoration: none;
      padding: 0.5rem 0;
      border-radius: 8px;
      width: 100%;
      font-weight: 500;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .toc-grid a:hover {
      background-color: #1e40af;
      transform: translateY(-2px);
    }

    .toc-grid a.active-btn {
      background-color: #D9E5FF !important;
      color: black !important;
    }

    /* ==== RESOURCE BOX ==== */
    .resource-box {
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 1rem 1.5rem;
      scroll-margin-top: 30px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.8s ease;
    }

    .resource-box:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    .resource-box.active {
      background-color: black;
      color: white;
    }

    .resource-box.active h3 {
      color: white;
    }

    .resource-box.active .back-to-top {
      background-color: white;
      color: black;
    }

    .resource-box h3 {
      color: #2563eb;
      border-bottom: 2px solid #e2e8f0;
      padding-bottom: 8px;
      margin-bottom: 10px;
    }

    .back-to-top {
      display: inline-block;
      margin-top: 10px;
      font-size: 20px;
      color: white;
      background-color: #2563eb;
      padding: 0px 20px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 500;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .back-to-top:hover {
      background-color: #1e40af;
      transform: translateY(-1px);
    }
  </style>

<script>
  let x = "{{most_used}}";
  const button = document.getElementById("recBtn");
  const text = document.getElementById("recText");
  text.style.fontWeight = "bold";
  const section = document.getElementById("recommended");

  if ("{{all_equal}}" === "True" || x === "Other") {
    button.textContent = "General Short Form Media Help";
    button.onclick = () => window.location.href = "https://shinseungkeon.com/en/escaping-short-form-addiction/";
    text.textContent = "‚ÄúEscaping Short-Form Addiction‚Äù by Dr. Shin";
    }
  else if (x === "TikTok") {
    button.textContent = "TikTok Help";
    button.onclick = () => window.location.href = "https://endscreenaddiction.com/blog/how-to-stop-scrolling-on-tiktok-and-reclaim-your-time/";
    text.textContent = "‚ÄúHow to Stop Scrolling on TikTok and Reclaim Your Time‚Äù by Kai Cox";
  }
  else if (x === "YouTube Shorts") {
    button.textContent = "YouTube Help";
    button.onclick = () => window.location.href = "https://www.verywellmind.com/youtube-addiction-signs-causes-effects-and-treatment-5222236";
    text.textContent = "‚ÄúWhat Is YouTube Addiction?‚Äù by Kendra Cherry";
  }
  else if (x === "Instagram Reels") {
    button.textContent = "Instagram Help";
    button.onclick = () => window.location.href = "https://www.asclique.com/blog/how-to-disable-reels-on-instagram/";
    text.textContent = "‚ÄúHow to Disable Reels on Instagram: Easy Methods That Work‚Äù by Tanish Bhadwal";
  }
  else if (x === "Facebook Reels") {
    button.textContent = "Facebook Reels Help";
    button.onclick = () => window.location.href = "https://wallhabit.com/blog/how-to-quit-reels-forever/";
    text.textContent = "‚ÄúHow to Quit Reels Forever‚Äù by WallHabit";
  }
  else {
    section.style.display = "none";
  }

  const tocLinks = document.querySelectorAll('.toc-grid a');
  const backButtons = document.querySelectorAll('.back-to-top');
  const boxes = document.querySelectorAll('.resource-box');

  // === CUSTOMIZATION OPTIONS ===
  const scrollSettings = {
    duration: 750,          // scroll duration in ms
    delay: 100,             // time before highlighting box (ms)
    activeDuration: 2000    // how long box stays highlighted (ms)
  };

  // === CUSTOM SMOOTH SCROLL FUNCTION (with easing) ===
  function smoothScrollTo(targetY, duration) {
    const startY = window.scrollY;
    const distance = targetY - startY;
    let startTime = null;

    function animation(currentTime) {
      if (!startTime) startTime = currentTime;
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);

      // smoother ease-in-out curve
      const ease = progress < 0.5
        ? 4 * progress * progress * progress
        : 1 - Math.pow(-2 * progress + 2, 3) / 2;

      window.scrollTo(0, startY + distance * ease);

      if (elapsed < duration) requestAnimationFrame(animation);
    }

    requestAnimationFrame(animation);
  }

  // === HELPER TO HANDLE SCROLL + HIGHLIGHT ===
  function handleSmoothScroll(event, link, highlight = false) {
    event.preventDefault();
    const targetId = link.getAttribute('href').substring(1);
    const targetBox = document.getElementById(targetId);
    if (!targetBox) return;

    let offset = highlight ? 25 : 20; // smaller number = closer to top
    const targetY = targetBox.getBoundingClientRect().top + window.scrollY - offset;
    smoothScrollTo(targetY, scrollSettings.duration);

    if (highlight) {
      // clear existing highlights
      boxes.forEach(box => box.classList.remove('active'));
      tocLinks.forEach(l => l.classList.remove('active-btn'));

      // add highlight
      setTimeout(() => {
        targetBox.classList.add('active');
        setTimeout(() => targetBox.classList.remove('active'), scrollSettings.activeDuration);
      }, scrollSettings.delay);

      // temporary active button color
      link.classList.add('active-btn');
      setTimeout(() => link.classList.remove('active-btn'), 60000);
    }
  }

  // === TOC LINKS (scroll to source) ===
  tocLinks.forEach(link => {
    link.addEventListener('click', (event) => {
      handleSmoothScroll(event, link, true);
    });
  });

  // === BACK BUTTONS (scroll to top / TOC) ===
  backButtons.forEach(btn => {
    btn.addEventListener('click', (event) => {
      handleSmoothScroll(event, btn, false);
    });
  });
</script>

{% endblock %}
